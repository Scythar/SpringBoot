‚≠ê Difference between derived query, typed query and native query?

ANSWER:
Derived queries are auto-generated by Spring from method names, typed queries explicitly use JPQL with type safety, and native queries use raw SQL tied to the database.


1Ô∏è‚É£ Derived Query(JPQL)
public interface LocationRepository extends JpaRepository<Location, Long> {

    Optional<Location> findByCityAndAddress(String city, String address);

    int deleteLocationByCityAndAddress(String city, String address);
}

Key points:
No query written by you
Spring parses method name
Internally generates JPQL
Derived query methods (like findBy..., deleteBy...) are for: SELECT, DELETE

‚ùå They cannot perform UPDATE.


2Ô∏è‚É£ Typed Query (JPQL)
public interface LocationRepository extends JpaRepository<Location, Long> {

    @Query(
      "SELECT l FROM Location l WHERE l.city = :city AND l.address = :address"
    )
    Optional<Location> findLocationJPQL(
        @Param("city") String city,
        @Param("address") String address
    );
}
Key points:
Uses JPQL
Uses entity name (Location)
Uses entity fields
Return type is type-safe

3Ô∏è‚É£ Native Query (SQL)
public interface LocationRepository extends JpaRepository<Location, Long> {

    @Query(
      value = "SELECT * FROM VM_Location WHERE city = :city AND address = :address",
      nativeQuery = true
    )
    Location findLocationNative(
        @Param("city") String city,
        @Param("address") String address
    );
}
Key points:
Uses table name (VM_Location)
Uses column names
Database-specific SQL
No compile-time safety


üî• Side-by-Side Comparison (INTERVIEW GOLD)
Feature	                        Derived Query	        Typed Query (JPQL)      	Native Query
Query written by you	            ‚ùå No	                ‚úÖ Yes	                    ‚úÖ Yes
Language	                    Method name	                    JPQL	                    SQL
Operates on	                    Entity fields	                Entity fields	        Table columns
Type-safe	                        ‚úÖ Yes	                    ‚úÖ Yes	                    ‚ùå No
DB-independent	                    ‚úÖ Yes	                    ‚úÖ Yes	                    ‚ùå No
Most used	                        ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê	                ‚≠ê‚≠ê‚≠ê‚≠ê	                ‚≠ê‚≠ê